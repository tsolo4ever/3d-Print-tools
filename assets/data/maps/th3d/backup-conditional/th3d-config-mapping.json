{
  "$schema": "TH3D Configuration.h Field Mapping v2.0",
  "description": "Complete mapping of TH3D Unified Firmware Configuration.h fields",
  "lastUpdated": "2025-12-25",
  "version": "2.0.0",
  "sourceFile": "Configuration.h",
  
  "metadata": {
    "configVersion": {
      "mapsFrom": ["CONFIGURATION_H_VERSION"],
      "type": "string",
      "required": true,
      "examples": ["02010204"],
      "th3dNotes": "Marlin configuration version identifier"
    },
    "unifiedVersion": {
      "mapsFrom": ["UNIFIED_VERSION"],
      "type": "string",
      "required": false,
      "examples": ["TH3D UFW 2.97a", "TH3D UFW 2.96"],
      "th3dNotes": "TH3D-specific firmware version identifier"
    },
    "distributionDate": {
      "mapsFrom": ["STRING_DISTRIBUTION_DATE"],
      "type": "string",
      "required": false,
      "examples": ["2025-08-26", "2024-12-15"],
      "th3dNotes": "Build/distribution date of TH3D firmware"
    }
  },

  "printerSelection": {
    "description": "Only ONE printer define should be active at a time",
    "printerModel": {
      "mapsFrom": [
        "ENDER3", "ENDER3_PRO", "ENDER3_NEO", "ENDER3_MAX", "ENDER3_MAX_NEO",
        "ENDER3_V2", "ENDER3_V2_NEO", "ENDER5", "ENDER5_PRO", "ENDER5_PLUS",
        "ENDER2_PRO", "ENDER6"
      ],
      "type": "enum",
      "required": true,
      "th3dNotes": "Uncomment ONE printer model. Sets board, size, drivers automatically."
    },
    "v42xTmcDrivers": {
      "mapsFrom": ["V42X_TMC220X_DRIVERS"],
      "type": "boolean",
      "required": false,
      "th3dNotes": "Enable for 4.2.2 boards with TMC drivers (A or B code on SD slot)"
    }
  },

  "filamentSensor": {
    "ezoutEnable": {
      "mapsFrom": ["EZOUT_ENABLE"],
      "type": "boolean",
      "required": false,
      "th3dNotes": "TH3D EZOut filament sensor - LCD header connection"
    },
    "ezoutEnableJ1": {
      "mapsFrom": ["EZOUT_ENABLE_J1"],
      "type": "boolean",
      "required": false,
      "th3dNotes": "TH3D EZOut filament sensor - J1 plug connection"
    },
    "cr10sStockFilamentSensor": {
      "mapsFrom": ["CR10S_STOCKFILAMENTSENSOR"],
      "type": "boolean",
      "required": false,
      "th3dNotes": "Stock CR-10S series filament sensor on J1 port"
    }
  },

  "ablProbe": {
    "probeMount": {
      "mapsFrom": [
        "CR10_OEM", "ENDER2_PRO_OEM", "ENDER2_PRO_OEM_MICRO", "ENDER3_OEM",
        "ENDER3_V2_OEM", "ENDER3_MAX_OEM", "ENDER5_OEM", "ENDER5_PLUS_OEM",
        "ENDER6_OEM", "ENDER6_PETSFANG", "SPRITE_EXTRUDER_18MM_MOUNT", "CUSTOM_PROBE"
      ],
      "type": "enum",
      "required": false,
      "th3dNotes": "EZABL/BLTouch probe mount selection - sets NOZZLE_TO_PROBE_OFFSET"
    },
    "ezablPoints": {
      "mapsFrom": ["EZABL_POINTS"],
      "type": "integer",
      "required": false,
      "default": 5,
      "examples": [3, 5, 7, 9, 11],
      "th3dNotes": "Grid points for probing (use odd numbers). Total points = N x N",
      "validation": {
        "min": 3,
        "max": 15,
        "mustBeOdd": true
      }
    },
    "ezablProbeEdge": {
      "mapsFrom": ["EZABL_PROBE_EDGE"],
      "type": "integer",
      "required": false,
      "default": 15,
      "examples": [10, 15, 30],
      "th3dNotes": "Distance from bed edge to probe. Use 30 for binder clips."
    },
    "ablType": {
      "mapsFrom": ["ABL_UBL", "ABL_BILINEAR"],
      "type": "enum",
      "required": false,
      "default": "ABL_BILINEAR",
      "examples": ["ABL_UBL", "ABL_BILINEAR"],
      "th3dNotes": "Leveling type: UBL (advanced mesh) or Bilinear (simple grid)"
    },
    "ezablFastProbe": {
      "mapsFrom": ["EZABL_FASTPROBE"],
      "type": "boolean",
      "required": false,
      "th3dNotes": "Fast probing at 8mm/s - works with most machines"
    },
    "ezablSuperFastProbe": {
      "mapsFrom": ["EZABL_SUPERFASTPROBE"],
      "type": "boolean",
      "required": false,
      "th3dNotes": "Super fast probing - Pro/NG EZABL at 15mm/s, BLTouch/CRTouch at 10mm/s"
    },
    "heatersOnDuringProbing": {
      "mapsFrom": ["HEATERS_ON_DURING_PROBING"],
      "type": "boolean",
      "required": false,
      "th3dNotes": "Keep heaters on during probing - may reduce accuracy"
    },
    "probingSteppersOff": {
      "mapsFrom": ["PROBING_STEPPERS_OFF"],
      "type": "boolean",
      "required": false,
      "th3dNotes": "Cycle XYE steppers during probing to reduce interference"
    },
    "slowerProbeMoves": {
      "mapsFrom": ["SLOWER_PROBE_MOVES"],
      "type": "boolean",
      "required": false,
      "th3dNotes": "Slow down moves between probe points to reduce vibration"
    }
  },

  "bltouch": {
    "enabled": {
      "mapsFrom": ["BLTOUCH"],
      "type": "boolean",
      "required": false,
      "th3dNotes": "Enable BLTouch/CRTouch probe support"
    },
    "on5Pin": {
      "mapsFrom": ["BLTOUCH_ON_5PIN"],
      "type": "boolean",
      "required": false,
      "th3dNotes": "Use 5-pin header for all BLTouch connections"
    },
    "servo0Pin": {
      "mapsFrom": ["SERVO0_PIN"],
      "type": "string",
      "required": false,
      "examples": ["PB0"],
      "th3dNotes": "Override servo control pin if needed"
    }
  },

  "customProbe": {
    "offset": {
      "mapsFrom": ["NOZZLE_TO_PROBE_OFFSET"],
      "type": "array",
      "arrayFormat": "{ X, Y, Z }",
      "required": false,
      "examples": [
        "{ -44, -10, 0 }",
        "{ -30, -42, 0 }",
        "{ 10, 10, 0 }"
      ],
      "th3dNotes": "Probe offset from nozzle. X: +right/-left, Y: +behind/-front. Z stored in EEPROM."
    }
  },

  "extruder": {
    "customEsteps": {
      "mapsFrom": ["CUSTOM_ESTEPS"],
      "type": "boolean",
      "required": false,
      "th3dNotes": "Enable to use custom E-steps value"
    },
    "customEstepsValue": {
      "mapsFrom": ["CUSTOM_ESTEPS_VALUE"],
      "type": "integer",
      "required": false,
      "examples": [93, 95, 130, 400, 407, 415, 425, 690],
      "th3dNotes": "E-steps value. Common: Stock=93-95, BMG=415, Sprite=425, Orbiter=690"
    },
    "reverseEMotorDirection": {
      "mapsFrom": ["REVERSE_E_MOTOR_DIRECTION"],
      "type": "boolean",
      "required": false,
      "th3dNotes": "Reverse E motor direction in firmware"
    },
    "mountedFilamentSensor": {
      "mapsFrom": ["MOUNTED_FILAMENT_SENSOR"],
      "type": "boolean",
      "required": false,
      "th3dNotes": "Machine-mounted filament sensor - reduces unload length to 5mm"
    },
    "directDrivePrinter": {
      "mapsFrom": ["DIRECT_DRIVE_PRINTER"],
      "type": "boolean",
      "required": false,
      "th3dNotes": "Direct drive extruder - reduces unload length to 20mm"
    }
  },

  "thermistors": {
    "v6Hotend": {
      "mapsFrom": ["V6_HOTEND"],
      "type": "boolean",
      "required": false,
      "th3dNotes": "E3D V6/Hemera with cartridge thermistor (not glass)"
    },
    "th3dHotendThermistor": {
      "mapsFrom": ["TH3D_HOTEND_THERMISTOR"],
      "type": "boolean",
      "required": false,
      "th3dNotes": "TH3D brand hotend thermistor"
    },
    "knownHotendThermistor": {
      "mapsFrom": ["KNOWN_HOTEND_THERMISTOR"],
      "type": "boolean",
      "required": false,
      "th3dNotes": "Use known thermistor number"
    },
    "knownHotendThermistorValue": {
      "mapsFrom": ["KNOWN_HOTEND_THERMISTOR_VALUE"],
      "type": "integer",
      "required": false,
      "examples": [1, 5, 11, 13],
      "th3dNotes": "Marlin thermistor table number"
    },
    "highTempThermistor": {
      "mapsFrom": ["HIGH_TEMP_THERMISTOR"],
      "type": "boolean",
      "required": false,
      "th3dNotes": "Enable for high-temp capable thermistors"
    },
    "highTempThermistorTemp": {
      "mapsFrom": ["HIGH_TEMP_THERMISTOR_TEMP"],
      "type": "integer",
      "required": false,
      "default": 350,
      "examples": [300, 350, 450, 500],
      "th3dNotes": "Max temp for high-temp thermistor",
      "validation": {
        "min": 290,
        "max": 500
      }
    },
    "th3dBedThermistor": {
      "mapsFrom": ["TH3D_BED_THERMISTOR"],
      "type": "boolean",
      "required": false,
      "th3dNotes": "TH3D brand bed thermistor"
    },
    "keenovoTempSensor": {
      "mapsFrom": ["KEENOVO_TEMPSENSOR"],
      "type": "boolean",
      "required": false,
      "th3dNotes": "Keenovo SSR with Keenovo temp sensor"
    },
    "knownBedThermistor": {
      "mapsFrom": ["KNOWN_BED_THERMISTOR"],
      "type": "boolean",
      "required": false
    },
    "knownBedThermistorValue": {
      "mapsFrom": ["KNOWN_BED_THERMISTOR_VALUE"],
      "type": "integer",
      "required": false
    },
    "acBed": {
      "mapsFrom": ["AC_BED"],
      "type": "boolean",
      "required": false,
      "th3dNotes": "AC bed with standalone controller - disables bed heater in firmware"
    }
  },

  "misc": {
    "reverseKnobDirection": {
      "mapsFrom": ["REVERSE_KNOB_DIRECTION"],
      "type": "boolean",
      "required": false,
      "th3dNotes": "Reverse LCD encoder direction"
    },
    "fanFix": {
      "mapsFrom": ["FAN_FIX"],
      "type": "boolean",
      "required": false,
      "th3dNotes": "Fix for 5015 fans that whine under 100% speed"
    },
    "customPrinterName": {
      "mapsFrom": ["CUSTOM_PRINTER_NAME"],
      "type": "boolean",
      "required": false,
      "th3dNotes": "Enable custom printer name display"
    },
    "userPrinterName": {
      "mapsFrom": ["USER_PRINTER_NAME"],
      "type": "string",
      "required": false,
      "examples": ["Maxy", "My Printer", "POS Unit"],
      "th3dNotes": "Custom name displayed on LCD",
      "validation": {
        "maxLength": 50
      }
    },
    "slowerHoming": {
      "mapsFrom": ["SLOWER_HOMING"],
      "type": "boolean",
      "required": false,
      "th3dNotes": "Slower homing for printers that hit endstops hard"
    },
    "reverseXMotor": {
      "mapsFrom": ["REVERSE_X_MOTOR"],
      "type": "boolean",
      "required": false
    },
    "reverseYMotor": {
      "mapsFrom": ["REVERSE_Y_MOTOR"],
      "type": "boolean",
      "required": false
    },
    "reverseZMotor": {
      "mapsFrom": ["REVERSE_Z_MOTOR"],
      "type": "boolean",
      "required": false
    }
  },

  "bedSize": {
    "xtenderKits": {
      "mapsFrom": [
        "XTENDER_E3_300", "XTENDER_E3_300XL", "XTENDER_E3_400",
        "XTENDER_E3_400Z", "XTENDER_E3_400XL", "XTENDER_E3_500Z",
        "XTENDER_E5_5XL", "XTENDER_E5P_400", "XTENDER_E5P_500"
      ],
      "type": "enum",
      "required": false,
      "th3dNotes": "TH3D Xtender kit - automatically sets bed size"
    },
    "customXBedSize": {
      "mapsFrom": ["CUSTOM_X_BED_SIZE"],
      "type": "integer",
      "required": false,
      "examples": [220, 235, 300, 400],
      "th3dNotes": "Override X bed size (mm)"
    },
    "customYBedSize": {
      "mapsFrom": ["CUSTOM_Y_BED_SIZE"],
      "type": "integer",
      "required": false,
      "examples": [220, 235, 300, 400],
      "th3dNotes": "Override Y bed size (mm)"
    },
    "customZHeight": {
      "mapsFrom": ["CUSTOM_Z_HEIGHT"],
      "type": "integer",
      "required": false,
      "examples": [250, 300, 400, 500],
      "th3dNotes": "Override Z height (mm)"
    }
  },

  "homeOffset": {
    "homeAdjust": {
      "mapsFrom": ["HOME_ADJUST"],
      "type": "boolean",
      "required": false,
      "th3dNotes": "Enable custom XY home offsets"
    },
    "xHomeLocation": {
      "mapsFrom": ["X_HOME_LOCATION"],
      "type": "integer",
      "required": false,
      "default": -10,
      "examples": [-10, -24, 0],
      "th3dNotes": "X home offset (use NEGATIVE values only)"
    },
    "yHomeLocation": {
      "mapsFrom": ["Y_HOME_LOCATION"],
      "type": "integer",
      "required": false,
      "default": -10,
      "examples": [-10, -4, 0],
      "th3dNotes": "Y home offset (use NEGATIVE values only)"
    }
  },

  "advancedFeatures": {
    "sdcardEepromEmulation": {
      "mapsFrom": ["SDCARD_EEPROM_EMULATION"],
      "type": "boolean",
      "required": false,
      "th3dNotes": "Save EEPROM to SD card instead of chip - for defective EEPROM"
    },
    "inputShaping": {
      "enabled": {
        "mapsFrom": ["INPUT_SHAPING"],
        "type": "boolean",
        "required": false,
        "th3dNotes": "Enable input shaping to reduce ringing/ghosting"
      },
      "freqX": {
        "mapsFrom": ["INPUT_SHAPING_FREQ_X"],
        "type": "integer",
        "required": false,
        "default": 40,
        "examples": [30, 40, 50, 60],
        "th3dNotes": "X axis resonant frequency (Hz)"
      },
      "dampingX": {
        "mapsFrom": ["INPUT_SHAPING_DAMPING_X"],
        "type": "float",
        "required": false,
        "default": 0.15,
        "examples": [0.10, 0.15, 0.20],
        "th3dNotes": "X axis damping ratio (0.00-1.00)",
        "validation": {
          "min": 0.0,
          "max": 1.0
        }
      },
      "freqY": {
        "mapsFrom": ["INPUT_SHAPING_FREQ_Y"],
        "type": "integer",
        "required": false,
        "default": 40,
        "examples": [30, 40, 50, 60],
        "th3dNotes": "Y axis resonant frequency (Hz)"
      },
      "dampingY": {
        "mapsFrom": ["INPUT_SHAPING_DAMPING_Y"],
        "type": "float",
        "required": false,
        "default": 0.15,
        "examples": [0.10, 0.15, 0.20],
        "th3dNotes": "Y axis damping ratio (0.00-1.00)"
      }
    },
    "enablePidBed": {
      "mapsFrom": ["ENABLE_PIDBED"],
      "type": "boolean",
      "required": false,
      "th3dNotes": "Enable PID bed temperature control (requires tuning)"
    },
    "fineBabystepping": {
      "mapsFrom": ["FINE_BABYSTEPPING"],
      "type": "boolean",
      "required": false,
      "th3dNotes": "Fine babystep resolution: 0.010mm instead of 0.025mm"
    },
    "linearAdvance": {
      "enabled": {
        "mapsFrom": ["LINEAR_ADVANCE"],
        "type": "boolean",
        "required": false,
        "th3dNotes": "Enable Linear Advance for better corners/pressure control"
      },
      "kValue": {
        "mapsFrom": ["LINEAR_ADVANCE_K"],
        "type": "float",
        "required": false,
        "default": 0.0,
        "examples": [0.0, 0.05, 0.10, 0.22],
        "th3dNotes": "Linear Advance K factor. Use M900 K in start gcode.",
        "validation": {
          "min": 0,
          "max": 2
        }
      }
    },
    "manualMeshLeveling": {
      "mapsFrom": ["MANUAL_MESH_LEVELING"],
      "type": "boolean",
      "required": false,
      "th3dNotes": "Manual mesh leveling without probe. Uses EZABL_PROBE_EDGE for inset."
    },
    "skewCorrection": {
      "enabled": {
        "mapsFrom": ["SKEW_CORRECTION"],
        "type": "boolean",
        "required": false,
        "th3dNotes": "Enable bed skew correction for XYZ misalignment"
      },
      "xyDiagAC": {
        "mapsFrom": ["XY_DIAG_AC"],
        "type": "float",
        "required": false,
        "default": 282.8427124746,
        "th3dNotes": "Diagonal A to C measurement"
      },
      "xyDiagBD": {
        "mapsFrom": ["XY_DIAG_BD"],
        "type": "float",
        "required": false,
        "default": 282.8427124746,
        "th3dNotes": "Diagonal B to D measurement"
      },
      "xySideAD": {
        "mapsFrom": ["XY_SIDE_AD"],
        "type": "float",
        "required": false,
        "default": 200,
        "th3dNotes": "Edge A to D measurement"
      }
    },
    "powerLossRecovery": {
      "mapsFrom": ["POWER_LOSS_RECOVERY"],
      "type": "boolean",
      "required": false,
      "th3dNotes": "Resume after power loss. WARNING: Causes excessive SD card wear."
    },
    "disableArcSupport": {
      "mapsFrom": ["DISABLE_ARC_SUPPORT"],
      "type": "boolean",
      "required": false,
      "th3dNotes": "Disable G2/G3 arc support to save flash space"
    },
    "noSdCard": {
      "mapsFrom": ["NO_SDCARD"],
      "type": "boolean",
      "required": false,
      "th3dNotes": "Disable SD card to save flash/RAM - USB printing only"
    }
  },

  "neopixel": {
    "ezneo220": {
      "mapsFrom": ["EZNEO_220"],
      "type": "boolean",
      "required": false,
      "th3dNotes": "TH3D EZNeo strip support"
    },
    "neopixelPin": {
      "mapsFrom": ["NEOPIXEL_PIN"],
      "type": "string",
      "required": false,
      "examples": ["PA4"],
      "th3dNotes": "Manual pin assignment for custom wiring"
    }
  },

  "printerSpecific": {
    "ender6": {
      "noFilamentSensor": {
        "mapsFrom": ["ENDER6_NOFILAMENT_SENSOR"],
        "type": "boolean",
        "required": false,
        "th3dNotes": "Disable filament sensor on Ender 6"
      },
      "mixedDrivers": {
        "mapsFrom": ["ENDER6_TMCXY_A4988ZE_DRIVERS"],
        "type": "boolean",
        "required": false,
        "th3dNotes": "Newer Ender 6 with TMC on XY and A4988 on ZE"
      },
      "ldoXY": {
        "mapsFrom": ["ENDER6_LDO_XY"],
        "type": "boolean",
        "required": false,
        "th3dNotes": "LDO 0.9 degree motor kit for Ender 6 - sets 160 steps/mm XY"
      }
    },
    "ender5": {
      "newLeadscrew": {
        "mapsFrom": ["ENDER5_NEW_LEADSCREW"],
        "type": "boolean",
        "required": false,
        "th3dNotes": "New Ender 5 leadscrew - 800 steps/mm Z instead of 400"
      },
      "plus": {
        "ezabl": {
          "mapsFrom": ["ENDER5_PLUS_EZABL"],
          "type": "boolean",
          "required": false,
          "th3dNotes": "Override stock BLTouch with EZABL on Ender 5 Plus"
        },
        "noAbl": {
          "mapsFrom": ["ENDER5_PLUS_NOABL"],
          "type": "boolean",
          "required": false,
          "th3dNotes": "Disable ABL entirely on Ender 5 Plus"
        }
      }
    },
    "ender3": {
      "12864LcdKit": {
        "mapsFrom": ["ENDER3_12864_LCD_KIT"],
        "type": "boolean",
        "required": false,
        "th3dNotes": "NEO/V2 converted to 12864 LCD display"
      }
    }
  }
}
